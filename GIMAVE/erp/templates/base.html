<!-- templates/base.html -->
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>

        /* Main */
        body {
            margin: 0;
            font-family: Calibri Light;
            background-color: #F2F2F2;
        }
            
        .main {
            margin-left: 160px;
            padding: 20px;
        }

        
        /* Menu Lateral */
        .sidenav {
            height: 100%;
            width: 160px;
            position: fixed;
            top: 0;
            left: 0;
            background-color: #333;
            padding-top: 20px;
            overflow-x: hidden;
            transition: 0.3s;
        }

        .sidenav:hover {
            width: 200px;
        }

        .sidenav a,
        .dropdown-btn {
            padding: 16px 16px 16px 24px;
            font-size: 18px;
            color: white;
            display: block;
            text-align: left;
            text-decoration: none;
            background: none;
            border: none;
            width: 100%;
            font-family: Calibri;
            cursor: pointer;
            transition: 0.3s;
        }

        .sidenav a:hover,
        .dropdown-btn:hover {
            background-color: #575757;
        }

        .dropdown {
            position: relative;
        }

        .dropdown-container {
            display: none;
            background-color: #444;
            padding-left: 10px;
        }

        .dropdown:hover .dropdown-container {
            display: block;
        }

        .dropdown-container a {
            font-size: 16px;
        }

    </style>

    {% block head_extra %}{% endblock %}
</head>
<body>

<!-- Menu -->
<div class="sidenav">
    <div style="display: flex; flex-direction: column; height: 99%;">
        <a href="{{ url_for('menu_principal') }}">Home</a>

        {% if 'COMPRAS' in session['modulos'] %}
        <div class="dropdown">
            <div class="dropdown-btn">Compras (2)</div>
            <div class="dropdown-container">

                <div class="dropdown">
                    <div class="dropdown-btn">Cadastros (4)</div>
                    <div class="dropdown-container">
                        <a href="{{ url_for('cadastro_form') }}">Orçamentos</a>
                        <a href="{{ url_for('fornecedores_form') }}">Fornecedores</a>
                        <a href="{{ url_for('produtos_form') }}">Produtos</a>
                        <a href="{{ url_for('categorias_form') }}">Categorias</a>
                    </div>
                </div>

                <div class="dropdown">
                    <div class="dropdown-btn">Orçamentos (2)</div>
                    <div class="dropdown-container">
                        <a href="{{ url_for('validar') }}">Validar</a>
                        <a href="{{ url_for('dashboard') }}">Dashboard</a>
                    </div>
                </div>
            </div>
        </div>
        {% endif %}

        {% if 'COMERCIAL' in session['modulos'] or 'COMERCIALGESTOR' in session['modulos'] %}
        <!-- Menu Comercial -->
        <div class="dropdown">
            <div class="dropdown-btn">Comercial (2)</div>
            <div class="dropdown-container">
                <a href="{{ url_for('homecomercial') }}">Simulação Elo</a>

                {%if 'COMERCIALGESTOR' in session['modulos']%}
                <a href="{{ url_for('parametros') }}">Parâmetros Comerciais</a>
                {% endif %}
            </div>
        </div>
        {% endif %}

        {% if session['nivel'] == 'ADMIN' %}
        <div class="dropdown">
            <div class="dropdown-btn">Admin (2)</div>
            <div class="dropdown-container">
                <a href="{{ url_for('listar_usuarios_acessos')}}">Acessos Módulos</a>
                <a href="{{ url_for('reg_usuarios')}}">Gerenciar Usuários</a>
            </div>
        </div>
        {% endif %}

        <form action="{{ url_for('logout') }}" method="POST" style="margin-top: auto; padding: 15px;">
            <button type="submit" style="width: 100%; padding: 10px; background-color: #333333; color: white; border: none; cursor: pointer; font-size: 17px; font-family: Calibri;">
                Log Out
            </button>
        </form>
    </div>
</div>

<!-- Conteúdo principal -->
<div class="main">
    {% block content %}
    {% endblock %}
</div>

{% block scripts %}{% endblock %}

</body>
</html>
